function cloneObject(e){if(null==e||"object"!=(void 0===e?"undefined":_typeof(e)))return e;if(e instanceof Date){var o=new Date(e.getDate());return o}if(e instanceof Array){o=[];for(var t=0,n=e.length;t<n;t++)o[t]=e[t];return o}if(e instanceof Object){for(t in o={},e)e.hasOwnProperty(t)&&(o[t]=cloneObject(e[t]));return o}}function setCookie(e,o,t){var n="";if(t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3),n="; expires="+a.toUTCString()}document.cookie=e+mashiro_option.cookie_version_control+"="+(o||"")+n+"; path=/"}function getCookie(e){for(var o=e+mashiro_option.cookie_version_control+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var a=t[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(o))return a.substring(o.length,a.length)}return null}function removeCookie(e){document.cookie=e+mashiro_option.cookie_version_control+"=; Max-Age=-99999999;"}function jumpTo(e){return mashiro_global.lib.pjax_to_url(e,"#app")}function injectStyles(e){$("<div />",{html:"&shy;<style>"+e+"</style>"}).appendTo("body")}function scrollBar(){document.body.clientWidth>860&&$(window).scroll(function(){var e=$(window).scrollTop(),o=$(document).height(),t=$(window).height(),n=parseInt(e/(o-t)*100);$("#bar").css("width",n+"%");var a=mashiro_option.theme_color;$("#bar").css("background",a),$(".toc-container").css("height",$(".site-content").outerHeight()),$(".skin-menu").removeClass("show")})}function checkskinSecter(){!1===mashiro_global.variables.skinSecter?($(".pattern-center").removeClass("pattern-center").addClass("pattern-center-sakura"),$(".headertop-bar").removeClass("headertop-bar").addClass("headertop-bar-sakura")):($(".pattern-center-sakura").removeClass("pattern-center-sakura").addClass("pattern-center"),$(".headertop-bar-sakura").removeClass("headertop-bar-sakura").addClass("headertop-bar"))}function checkBgImgCookie(){var e=getCookie("bgImgSetting");e?$("#"+e).click():$("#white-bg").click()}function checkDarkModeCookie(){var e=getCookie("dark"),o=new Date,t=o.getHours();!e&&(t>18||t<8)||"1"==mashiro_option.dark&&(t>=19||t<=7)?(setTimeout(function(){$("#dark-bg").click()},100),$("#moblieDarkLight").html('<i class="fa fa-sun-o" aria-hidden="true"></i>'),console.log("夜间模式开启")):(document.body.clientWidth>860?setTimeout(function(){checkBgImgCookie()},100):($("html").css("background","unset"),$("body").removeClass("dark"),$("#moblieDarkLight").html('<i class="fa fa-moon-o" aria-hidden="true"></i>'),setCookie("dark","0",.33)),console.log("夜间模式关闭"))}function mobile_dark_light(){$("body").hasClass("dark")?($("html").css("background","unset"),$("body").removeClass("dark"),$("#moblieDarkLight").html('<i class="fa fa-moon-o" aria-hidden="true"></i>'),setCookie("dark","0",.33)):($("html").css("background","#31363b"),$("#moblieDarkLight").html('<i class="fa fa-sun-o" aria-hidden="true"></i>'),$("body").addClass("dark"),setCookie("dark","1",.33))}function pjaxdone(){$("#centerbg .headertop-cover").find("img").each(function(){var e=Math.floor(Math.random()*bg.length);$(this).attr("data-src",""+bg[e])})}function submenu(){$(".submenu").click(function(){$(this).toggleClass("submenu-open-icon"),$(this).children(".sub-menu").toggle(300)})}function NoBraised(){"true"==mashiro_option.Braised&&function(){function e(){var e=new Date;new Date-e>t?(n||o.forEach(function(e){e.call(null)}),n=!0,window.stop(),alert("大佬别再扒了！ヽ(￣ω￣(￣ω￣〃)ゝ"),document.body.innerHTML=""):n=!1}var o=[],t=50,n=!1;return setInterval(e,1),{addListener:function(e){o.push(e)},cancleListenr:function(e){o=o.filter(function(o){return o!==e})}}}().addListener(function(){window.location.reload()})}function copy_code_block(){if("true"==mashiro_option.prismjs.fullscreen&&$("pre").on("click",function(e){e.target===this&&($(this).toggleClass("code-block-fullscreen"),$("html").toggleClass("code-block-fullscreen-html-scroll"))}),"true"==mashiro_option.prismjs.copy_button){$("pre code").each(function(e,o){$(o).attr({id:"language-"+e}),$(this).after('<a class="copy-code" href="javascript:" data-clipboard-target="#language-'+e+'" title="拷贝代码"><i class="fa fa-clipboard" aria-hidden="true"></i></a>')});new ClipboardJS(".copy-code")}}function show_date_time(){var e=mashiro_option.siteBuildingTime;window.setTimeout("show_date_time()",1e3),BirthDay=new Date(e),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=Math.floor(e_hrsold),e_minsold=60*(e_hrsold-hrsold),minsold=Math.floor(60*(e_hrsold-hrsold)),seconds=Math.floor(60*(e_minsold-minsold)),runtime="本网站已成功存活了:"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒",monitoruntime.innerHTML=runtime}function reload_show_date_time(){BirthDay=new Date("06/02/2017 18:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),monitorday.innerHTML=daysold}function timeSeriesReload(e){1==e?($("#archives-temp h3.ar-mon").click(function(){return $(this).next().slideToggle(400),!1}),lazyload()):($("#archives-temp h3.ar-mon").css({cursor:"s-resize"}),$("#archives-temp h3.ar-mon").each(function(){var e=$(this).next().children(".brick").length;$(this).children("#post-num").text(e)}))}function add_copyright(){function e(e){e.preventDefault();var o=""+window.getSelection().toString().replace(/\r\n/g,"\n"),t=""+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",o),e.clipboardData.setData("text/plain",t),addbutterBar.createButterbar("复制成功！<br>Copied to clipboard successfully!",1e3);else if(window.clipboardData)return window.clipboardData.setData("text",t)}document.body.addEventListener("copy",function(o){!mashiro_global.is_user_logged_in&&window.getSelection().toString().length>30&&e(o)})}function get_poem(e,o){var t=document.querySelector(e),n=document.querySelector(o),a=new XMLHttpRequest;a.open("get","https://v2.jinrishici.com/one.json"),a.withCredentials=!0,a.onreadystatechange=function(){if(4===a.readyState){var e=JSON.parse(a.responseText);t.innerHTML=e.data.content,n.innerHTML="【"+e.data.origin.dynasty+"】"+e.data.origin.author+"《"+e.data.origin.title+"》"}},a.send()}function hearthstone_deck_iframe(){$("iframe").hasClass("hearthstone-deck")&&($(".hearthstone-deck").each(function(){$(this).attr("height",5*$(this).width()/9+"px")}),$(".hearthstone-deck-container").each(function(){var e=5*$(this).width()/9+14;$(this).css("height",e+"px")}))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};mashiro_global.variables=new function(){this.skinSecter=!0},mashiro_global.ini=new function(){this.normalize=function(){lazyload(),copy_code_block(),social_share(),checkskinSecter(),mashiro_global.post_list_show_animation.ini(),$("div").hasClass("poem-inner")&&get_poem(".poem",".infos"),$(function(){-1!=navigator.userAgent.indexOf("AppleWebKit")&&$("body").addClass("isWebKit"),hearthstone_deck_iframe()})},this.pjax=function(){pjaxInit(),copy_code_block(),social_share(),checkskinSecter(),mashiro_global.post_list_show_animation.ini(),$("div").hasClass("poem-inner")&&get_poem(".poem",".infos"),hearthstone_deck_iframe()}},mashiro_global.lib=new function(){this.removeClass=function(e,o){var t=document.getElementById(e);t.classList?t.classList.remove(o):t.className=t.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")},this.addClass=function(e,o){var t=document.getElementById(e);t.classList?t.classList.add(o):t.className+=" "+o},this.hasClass=function(e,o){var t=document.getElementById(e);if(t.classList)var n=t.classList.contains(o);else n=new RegExp("(^| )"+o+"( |$)","gi").test(t.className);return n},this.toggleClass=function(e,o){var t=document.getElementById(e);if(t.classList)t.classList.toggle(o);else{var n=t.className.split(" "),a=n.indexOf(o);a>=0?n.splice(a,1):n.push(o),t.className=n.join(" ")}},this.saveFile=function(e,o){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(t.response),e.download=o,e.style.display="none",document.body.appendChild(e),e.click()},t.open("GET",e),t.send()}},mashiro_global.post_list_show_animation=new function(){this.ini=function(e){$("article.post-list-thumb").each(function(o){if(e)var t=$(window).height();else if($(".headertop").hasClass("headertop-bar"))t=0;else t=$(window).height()-300;mashiro_global.landing_at_home||(t+=300);var n=$("article.post-list-thumb").eq(o).offset().top;$(window).height()+$(window).scrollTop()>=n&&$("article.post-list-thumb").eq(o).addClass("post-list-show"),$(window).scroll(function(){var e=$(window).scrollTop();e+t>=n&&e&&$("article.post-list-thumb").eq(o).addClass("post-list-show")})})}},scrollBar(),!getCookie("darkcache")&&((new Date).getHours()>19||(new Date).getHours()<8)&&(removeCookie("dark"),setCookie("darkcache","cached",.4)),setTimeout(function(){checkDarkModeCookie()},100),$(document).ready(function(){function e(e){return"none"==e?"":e}function o(){var o=$(".menu-list");o.find("li").each(function(){var n=this.id;o.on("click","#"+n,function(){switch("white-bg"==n||"dark-bg"==n?(mashiro_global.variables.skinSecter=!0,checkskinSecter()):(mashiro_global.variables.skinSecter=!1,checkskinSecter()),"dark-bg"==n?($("html").css("background","#31363b"),$("body").addClass("dark"),$("body.dark").css("background-image","none"),$(".banner_waves").hide(),setCookie("dark","1",.33)):($("html").css("background","unset"),$("body").removeClass("dark"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)"),$(".banner_waves").hide(),setCookie("dark","0",.33),setCookie("bgImgSetting",n,30)),n){case"white-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.white_bg)+")"),$(".banner_waves").show(),$(".site-content").css("background-color","#fff");break;case"sakura-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.sakura_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)");break;case"gribs-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.gribs_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)");break;case"pixiv-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.pixiv_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)");break;case"KAdots-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.KAdots_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)");break;case"totem-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.totem_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)");break;case"bing-bg":$("body").css("background-image","url("+e(mashiro_option.changeBG.bing_bg)+")"),$(".site-content").css("background-color","rgba(255, 255, 255, .8)")}t()})})}function t(){$(".skin-menu").removeClass("show"),setTimeout(function(){$(".changeSkin-gear").css("visibility","visible")},300)}o(),$(".changeSkin-gear").click(function(){$(".skin-menu").toggleClass("show")}),$(".skin-menu #close-skinMenu").click(function(){t()})});var pjaxInit=function(){lazyload(),pjaxdone(),add_copyright(),$(".iconflat").css("width","50px").css("height","50px"),$(".openNav").css("height","50px"),timeSeriesReload()};if($(document).ready(function(){pjaxdone(),submenu(),NoBraised()}),document.body.clientWidth<=860&&!window.is_app){function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("moblieGoTop").style.display="block":document.getElementById("moblieGoTop").style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}window.onscroll=function(){scrollFunction()}}show_date_time(),timeSeriesReload(),add_copyright(),mashiro_global.ini.normalize();var home=location.href,s=$("#bgvideo")[0],Siren={TOC:function(){if($(".toc").length>0&&document.body.clientWidth>1200){$(".pattern-center").length>0?tocbot.init({tocSelector:".toc",contentSelector:".entry-content,.links-content",scrollSmooth:!0,headingSelector:"h1, h2, h3, h4, h5",headingsOffset:-480,scrollSmoothOffset:-85}):tocbot.init({tocSelector:".toc",contentSelector:".entry-content,.links-content",scrollSmooth:!0,headingSelector:"h1, h2, h3, h4, h5",headingsOffset:-85,scrollSmoothOffset:-85});var e=$(".toc").offset().top-135;window.onscroll=function(){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;o>=e?$(".toc").addClass("toc-fixed"):$(".toc").removeClass("toc-fixed")}}$.getScript("https://sdk.jinrishici.com/v2/browser/jinrishici.js")},VA:function(){if(!mashiro_option.valine){var e=new Valine;e.init({el:"#vcomments",appId:mashiro_option.valine.v_appId,appKey:mashiro_option.valine.v_appKey,path:window.location.pathname,placeholder:"你是我一生只会遇见一次的惊喜 ..."})}},MJ:function(){"1"==mashiro_option.mathjax&&$.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?mashiro_option=TeX-MML-AM_CHTML",function(){MathJax.Hub.mashiro_option({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}});var e=document.getElementsByClassName("entry-content")[0];MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])})},MN:function(){$(".iconflat").on("click",function(){$("#main-container").hasClass("open")?($(".iconflat").css("width","50px").css("height","50px"),$(".openNav").css("height","50px")):($(".iconflat").css("width","100%").css("height","100%"),$(".openNav").css("height","100%")),$("body").toggleClass("navOpen"),$("#main-container,#mo-nav,.openNav").toggleClass("open")})},MNH:function(){$("body").hasClass("navOpen")&&($("body").toggleClass("navOpen"),$("#main-container,#mo-nav,.openNav").toggleClass("open"))},splay:function(){$("#video-btn").addClass("video-pause").removeClass("video-play").show(),$(".video-stu").css({bottom:"-100px"}),$(".focusinfo").css({top:"-999px"}),$("#meteor").css({display:"none"}),$("#banner_waves").addClass("banner_wave_hide"),s.play()},spause:function(){$("#video-btn").addClass("video-play").removeClass("video-pause"),$(".focusinfo").css({top:"49.3%"}),$("#meteor").css({display:"none"}),$("#banner_waves").addClass("banner_wave_hide"),s.pause()},liveplay:function(){null!=s.oncanplay&&$(".haslive").length>0&&$(".videolive").length>0&&Siren.splay()},livepause:function(){null!=s.oncanplay&&$(".haslive").length>0&&(Siren.spause(),$(".video-stu").css({bottom:"0px"}).html("已暂停 ..."))},addsource:function(){$(".video-stu").html("正在载入视频 ...").css({bottom:"0px"});var e=Poi.movies.name.split(","),o=e[Math.floor(Math.random()*e.length)];$("#bgvideo").attr("src",Poi.movies.url+"/"+o),$("#bgvideo").attr("video-name",o)},LV:function(){var e=$("#video-btn");e.on("click",function(){$(this).hasClass("loadvideo")?($(this).addClass("video-pause").removeClass("loadvideo").hide(),Siren.addsource(),s.oncanplay=function(){Siren.splay(),$("#video-add").show(),e.addClass("videolive"),e.addClass("haslive")}):$(this).hasClass("video-pause")?(Siren.spause(),e.removeClass("videolive"),$(".video-stu").css({bottom:"0px"}).html("已暂停 ...")):(Siren.splay(),e.addClass("videolive")),s.onended=function(){$("#bgvideo").attr("src",""),$("#video-add").hide(),e.addClass("loadvideo").removeClass("video-pause"),e.removeClass("videolive"),e.removeClass("haslive"),$(".focusinfo").css({top:"49.3%"})}}),$("#video-add").on("click",function(){Siren.addsource()})},CE:function(){$(".comments-hidden").show(),$(".comments-main").hide(),$(".comments-hidden").click(function(){$(".comments-main").slideDown(500),$(".comments-hidden").hide()}),$(".archives").hide(),$(".archives:first").show(),$("#archives-temp h3").click(function(){return $(this).next().slideToggle("fast"),!1}),$(".headertop").length>0&&$(".site-header").addClass("is_home"),"true"==mashiro_option.fancybox&&($(".entry-content").find("img").each(function(){$(this).hasClass("gallery-img")||$(this).addClass("gallery-img").wrap('<a data-fancybox="gallery" class="fancybox" href="'+$(this).attr("src")+'"></a>')}),$(".fancybox").fancybox({selector:"[data-fancybox]",loop:!0,transitionEffect:"slide",protect:!0,buttons:["fullScreen","close"],hash:!1})),$(".category-all-page ul li").find("a").each(function(){var e=mashiro_option.lazyloadImg,o=Math.floor(Math.random()*bg.length);$(this).before('<div class="category-item-cover"><img  src="'+e+'" data-src="'+bg[o]+'" class="lazyload"></div>')}),lazyload(),$(".js-toggle-search").on("click",function(){$(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible")}),$(".search_close").on("click",function(){$(".js-search").hasClass("is-visible")&&($(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible"))}),$("#show-nav").on("click",function(){$("#show-nav").hasClass("showNav")?($("#show-nav").removeClass("showNav").addClass("hideNav"),$(".site-top .lower nav").addClass("navbar")):($("#show-nav").removeClass("hideNav").addClass("showNav"),$(".site-top .lower nav").removeClass("navbar"))}),$("#loading").click(function(){$("#loading").fadeOut(500)})},NH:function(){var e=0,o=50,t=$(document).scrollTop();$(window).scroll(function(){var n=$(document).scrollTop();n==e&&$(".site-header").removeClass("yya"),n>e&&$(".site-header").addClass("yya"),n>o&&($(".site-header").addClass("gizle"),n>t?$(".site-header").removeClass("sabit"):$(".site-header").addClass("sabit"),t=n)})},XLS:function(){$body=window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body"),$("body").on("click","#pagination a",function(){return $(this).addClass("loading").text(""),$.ajax({type:"GET",url:$(this).attr("href")+"#main",success:function(e){result=$(e).find("#main .post"),nextHref=$(e).find("#pagination a").attr("href"),$("#main").append(result.fadeIn(500)),$("#pagination a").removeClass("loading").text("Previous"),lazyload(),mashiro_global.post_list_show_animation.ini(50),null!=nextHref?$("#pagination a").attr("href",nextHref):$("#pagination").html("<span>很高兴你翻到这里，但是真的没有了...</span>")}}),!1})},XCS:function(){addbutterBar={clearButterbar:function(e){jQuery(".butterBar").length>0&&jQuery(".butterBar").remove()},createButterbar:function(e,o){var t=this;t.clearButterbar(),jQuery("body").append('<div class="butterBar butterBar--center"><p class="butterBar-message">'+e+"</p></div>"),o>0?setTimeout("jQuery('.butterBar').remove()",o):setTimeout("jQuery('.butterBar').remove()",6e3)}}},LA:function(){if("true"==mashiro_option.leancloud.enable){function e(e){var o=new AV.Query(e),t=[],n=$(".leancloud_visitors");n.each(function(){t.push($(this).attr("id").trim())}),o.containedIn("url",t),o.find().done(function(e){var o=".leancloud-visitors-count";if(0!==e.length){for(var a=0;a<e.length;a++){var i=e[a],s=i.get("url"),r=i.get("time"),c=document.getElementById(s);$(c).find(o).text(r)}for(a=0;a<t.length;a++){s=t[a],c=document.getElementById(s);var l=$(c).find(o);""==l.text()&&l.text(0)}}else n.find(o).text(0)}).fail(function(e,o){console.log("Error: "+o.code+" "+o.message)})}function o(e){var o=$(".leancloud_visitors"),t=o.attr("id").trim(),n=o.attr("data-flag-title").trim(),a=new AV.Query(e);a.equalTo("url",t),a.find({success:function(o){if(o.length>0){var a=o[0];a.fetchWhenSave(!0),a.increment("time"),a.save(null,{success:function(e){var o=$(document.getElementById(t));o.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,o){console.log("Failed to save Visitor num, with error message: "+o.message)}})}else{var i=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),i.setACL(s),i.set("title",n),i.set("url",t),i.set("time",1),i.save(null,{success:function(e){var o=$(document.getElementById(t));o.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,o){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var t=AV.Object.extend("Counter");"1"==$(".leancloud_visitors").length?o(t):$(".post-title").length>1&&e(t)})}},GT:function(){var e=100,o=1200,t=700,n=$(".cd-top");$(window).scroll(function(){$(this).scrollTop()>e?(n.addClass("cd-is-visible"),$(".changeSkin-gear").css("bottom","0"),$(window).height()>950?$(".cd-top.cd-is-visible").css("top","0"):$(".cd-top.cd-is-visible").css("top",$(window).height()-950+"px")):($(".changeSkin-gear").css("bottom","-999px"),$(".cd-top.cd-is-visible").css("top","-900px"),n.removeClass("cd-is-visible cd-fade-out")),$(this).scrollTop()>o&&n.addClass("cd-fade-out")}),n.on("click",function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},t)})}};$(function(){Siren.NH(),Siren.GT(),Siren.XLS(),Siren.XCS(),Siren.CE(),Siren.MN(),Siren.LV(),Siren.TOC(),Siren.LA(),window.is_app&&injectStyles("#nprogress .bar { display: none; }"),"1"==Poi.pjax&&($(document).pjax("a[target!=_top]","#app",{fragment:"#app",timeout:8e3}).on("pjax:send",function(){document.body.clientWidth>=860&&!window.is_app&&mashiro_option.loading&&$("#loading").fadeIn(300),$("#bar").css("width","0%"),"true"==mashiro_option.NProgress&&NProgress.start(),Siren.MNH()}).on("pjax:complete",function(){Siren.CE(),Siren.VA(),Siren.MJ(),Siren.TOC(),Siren.LA(),"true"==mashiro_option.NProgress&&NProgress.done(),mashiro_global.ini.pjax(),$("#loading").fadeOut(500),"true"==Poi.prismjs&&self.Prism.highlightAll(event)}).on("submit",".search-form,.s-search",function(e){e.preventDefault(),$.pjax.submit(e,"#app",{fragment:"#app",timeout:8e3}),$(".js-search.is-visible").length>0&&($(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible"))}),mashiro_global.lib.pjax_to_url=function(e,o){$.pjax({url:e,container:o,fragment:o,timeout:8e3})},window.addEventListener("popstate",function(e){Siren.CE(),timeSeriesReload(!0)},!1))});var isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,isOpera=navigator.userAgent.toLowerCase().indexOf("opera")>-1,isIe=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(isWebkit||isOpera||isIe)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,o=location.hash.substring(1);/^[A-z0-9_-]+$/.test(o)&&(e=document.getElementById(o),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1);